{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nexport default {\n  data() {\n    return {\n      value: ''\n    };\n  },\n  methods: {\n    // 点击返回\n    onClickLeft() {\n      this.$router.push({\n        name: 'home'\n      });\n    }\n  },\n  mounted() {\n    const _this = this;\n    var map = new AMap.Map('container', {});\n    AMap.plugin('AMap.CitySearch', function () {\n      var citySearch = new AMap.CitySearch();\n      citySearch.getLocalCity(function (status, result) {\n        if (status === 'complete' && result.info === 'OK') {\n          // 查询成功，result即为当前所在城市信息\n          console.log(result);\n          _this.$store.commit('saveCity', result.city);\n        }\n      });\n    });\n    // JSAPI 2.0 输入提示插件名称由 AMap.Autocomplete 变更为 AMap.AutoComplete 啦！\n    AMap.plugin('AMap.AutoComplete', function () {\n      var autoOptions = {\n        //city 限定城市，默认全国\n        city: '全国'\n      };\n      // 实例化AutoComplete\n      var autoComplete = new AMap.AutoComplete(autoOptions);\n      // 根据关键字进行搜索\n      autoComplete.search(this.value, function (status, result) {\n        // 搜索成功时，result即是对应的匹配数据\n        console.log(result);\n      });\n    });\n  }\n};","map":{"version":3,"mappings":";AAaA;EACAA;IACA;MACAC;IACA;EACA;EACAC;IACA;IACAC;MACA;QAAAC;MAAA;IACA;EACA;EACAC;IACA;IACA;IACAC;MACA;MACAC;QACA;UACA;UACAC;UACAC;QACA;MACA;IACA;IACA;IACAH;MACA;QACA;QACAI;MACA;MACA;MACA;MACA;MACAC;QACA;QACAH;MACA;IACA;EACA;AACA","names":["data","value","methods","onClickLeft","name","mounted","AMap","citySearch","console","_this","city","autoComplete"],"sourceRoot":"src/views/map","sources":["index.vue"],"sourcesContent":["<template>\r\n  <div class=\"box\">\r\n    <!-- 导航栏 -->\r\n    <van-sticky>\r\n      <van-nav-bar title=\"乐购\" left-text=\"返回\" left-arrow @click-left=\"onClickLeft\" />\r\n    </van-sticky>\r\n    <van-search v-model=\"value\" placeholder=\"请输入搜索关键词\" class=\"text\" />\r\n    <h2>显示当前位置：</h2>\r\n    <div id=\"container\"></div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  data() {\r\n    return {\r\n      value: ''\r\n    }\r\n  },\r\n  methods: {\r\n    // 点击返回\r\n    onClickLeft() {\r\n      this.$router.push({ name: 'home' })\r\n    }\r\n  },\r\n  mounted() {\r\n    const _this = this\r\n    var map = new AMap.Map('container', {})\r\n    AMap.plugin('AMap.CitySearch', function () {\r\n      var citySearch = new AMap.CitySearch()\r\n      citySearch.getLocalCity(function (status, result) {\r\n        if (status === 'complete' && result.info === 'OK') {\r\n          // 查询成功，result即为当前所在城市信息\r\n          console.log(result)\r\n          _this.$store.commit('saveCity', result.city)\r\n        }\r\n      })\r\n    })\r\n    // JSAPI 2.0 输入提示插件名称由 AMap.Autocomplete 变更为 AMap.AutoComplete 啦！\r\n    AMap.plugin('AMap.AutoComplete', function () {\r\n      var autoOptions = {\r\n        //city 限定城市，默认全国\r\n        city: '全国'\r\n      }\r\n      // 实例化AutoComplete\r\n      var autoComplete = new AMap.AutoComplete(autoOptions)\r\n      // 根据关键字进行搜索\r\n      autoComplete.search(this.value, function (status, result) {\r\n        // 搜索成功时，result即是对应的匹配数据\r\n        console.log(result)\r\n      })\r\n    })\r\n  }\r\n}\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n.box {\r\n  h2 {\r\n    position: fixed;\r\n    bottom: 200px;\r\n    padding: 0 0 15px 15px;\r\n  }\r\n  #container {\r\n    width: 100%;\r\n    height: 200px;\r\n    position: fixed;\r\n    bottom: 0;\r\n  }\r\n  .text {\r\n    width: 100%;\r\n    height: 50px;\r\n    margin: 0 auto;\r\n  }\r\n}\r\n</style>\r\n"]},"metadata":{},"sourceType":"module"}