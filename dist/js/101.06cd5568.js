"use strict";(self["webpackChunklegou"]=self["webpackChunklegou"]||[]).push([[101],{101:function(t,e,a){a.r(e),a.d(e,{default:function(){return r}});var n=function(){var t=this,e=t._self._c;return e("div",{staticClass:"box"},[e("van-sticky",[e("van-nav-bar",{attrs:{title:"乐购","left-text":"返回","left-arrow":""},on:{"click-left":t.onClickLeft}})],1),e("van-search",{staticClass:"text",attrs:{placeholder:"请输入搜索关键词"},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}}),""!==this.value?e("ul",{staticClass:"result"},t._l(t.searchList,(function(a){return e("li",{key:a.id,staticClass:"resultItem",on:{click:function(e){return t.goHome(a)}}},[t._v(t._s(a.name))])})),0):t._e(),e("h2",[t._v("显示当前位置：")]),e("div",{attrs:{id:"container"}})],1)},i=[],o=(a(7658),{data(){return{value:"",city:"",searchList:[]}},watch:{value(){const t=this,e=this.$store.state.cityInfo;e.name?AMap.plugin("AMap.AutoComplete",(function(){var a={city:e.name},n=new AMap.AutoComplete(a);n.search(t.value,(function(e,a){t.searchList=a.tips}))})):AMap.plugin("AMap.AutoComplete",(function(){var e={city:t.city},a=new AMap.AutoComplete(e);a.search(t.value,(function(e,a){t.searchList=a.tips}))}))}},methods:{onClickLeft(){this.$router.push({name:"home"})},goHome(t){this.$router.push({name:"home"}),this.$store.commit("saveCityInfo",t)}},mounted(){const t=this.$store.state.cityInfo,e=this;if(t.name){var a=new AMap.Map("container",{zoom:16,center:[t.location.lng,t.location.lat]}),n=new AMap.Marker({position:[t.location.lng,t.location.lat]});a.add(n)}else{a=new AMap.Map("container",{});AMap.plugin("AMap.CitySearch",(function(){var t=new AMap.CitySearch;t.getLocalCity((function(t,a){"complete"===t&&"OK"===a.info&&(e.city=a.city)}))}))}}}),c=o,s=a(1001),l=(0,s.Z)(c,n,i,!1,null,"7d32ca6c",null),r=l.exports}}]);
//# sourceMappingURL=101.06cd5568.js.map